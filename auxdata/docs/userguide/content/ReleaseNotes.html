<html><head>
<title>Release Notes</title>
<link rel="stylesheet" type="text/css" href="idv.css" title="Style">
</head>
<body>

<div class="pagesubtitle">
Integrated Data Viewer<br>
Version <%idv.version%>
</div>

<hr>

The items below reflect changes since the 3.1u1 release.

<faq qlabel=" " alabel=" ">

<faqitem cat="System Changes"></faqitem>


<faqitem q="Latest netCDF-Java Version" id="nj43">
<p>
A new version of the netCDF-Java library (4.3.16) is included in this
release. This version of netCDF-Java includes major changes to the way GRIB 1
and 2 files are handled. See
the <a href="http://www.unidata.ucar.edu/software/netcdf-java/formats/GribFiles.html">
netCDF-Java GRIB documentation</a> for a more details on these changes.
</p>

<p>
One major outcome of this change is that GRIB variable names will now be
generated in a very general way. This means that bundles that were generated
with a previous version of the IDV might break. In order to aid users in the
transition between netCDF-Java 4.2 and 4.3, the netCDF-Java library has provided
a mapping of old variable names and new variable names for the datasets served
on the Unidata THREDDS Data Server (TDS), and this mapping is being used 'under
the hood' in the IDV to minimize the impact of these changes on users.
</p>

<p>
For users reading GRIB files from other locations (local files or other remote
servers), the IDV now allows users to make custom variable name mappings. New
variable mappings should be placed in the following file (found under the users
home directory):
</p>

<p>
&nbsp;&nbsp;.unidata/idv/DefaultIdv/varrenamer.xml
</p>

<p>
The structure of this file is quite simple:
</p>

<p><code>
&lt;varrenamers&gt;<br>
<br>
&nbsp;&nbsp;&lt;varrenamer<br>
&nbsp;&nbsp;&nbsp;&nbsp;old="oldNameHere"<br>
&nbsp;&nbsp;&nbsp;&nbsp;new="newNameHere" /&gt;<br>
<br>
&nbsp;&nbsp;&lt;varrenamer<br>
&nbsp;&nbsp;&nbsp;&nbsp;old="anotherOldNameHere"<br>
&nbsp;&nbsp;&nbsp;&nbsp;new="anotherNewNameHere" /&gt;<br>
<br>
&lt;/varrenamers&gt;
</code></p>

<p>
Changes to the way GRIB files are served via the Unidata TDS server have also
been made. The impact of this change on IDV users is that the dataset URLs that
point to GRIB resources will change, which will break bundles that point to the
old Unidata TDS (motherlode.ucar.edu).
</p>

<p>
Again, in order to aid users in this transition, the netCDF-Java library has
provided a mapping between the old and new dataset URL paths for all datasets
served through the Unidata TDS. As with the variable name changes, the URL
mapping for datasets on the Unidata TDS is being used 'under the hood' in the
IDV to minimize the impact on users.
</p>

<p>
The latest version of TDS (4.3), where URL related impacts will be
seen, is <b>now running</b> on the main Unidata TDS (thredds.ucar.edu).
Starting with this release (4.0u1), the IDV will redirect all requests to the old
Unidata TDS (motherlode.ucar.edu) to the new Unidata TDS (thredds.ucar.edu)
automatically and update the appropriate data URLs. Unlike the previous
release (4.0), users do not need to install any plugins related to the
TDS upgrade. <b><i>If you previously installed plugins related to the TDS
upgrade, please remove them once you've upgraded to IDV 4.0u1 (or later).</i></b> 
</p>

<p>
As TDS servers in the community begin to upgrade to TDS 4.3, IDV users will
likely need to use custom URL mappings. New URL mappings should be placed in the
following file (found under the users home directory):
</p>

<p>
&nbsp;&nbsp;.unidata/idv/DefaultIdv/urlmaps.xml
</p>

<p>
Again, the format of this file is quite simple:
</p>

<p><code>
&lt;urlmaps&gt;<br>
<br>
&nbsp;&nbsp;&lt;urlmap<br>
&nbsp;&nbsp;&nbsp;&nbsp;type="opendap"<br>
&nbsp;&nbsp;&nbsp;&nbsp;old="oldthreddsserver1.edu/"<br>
&nbsp;&nbsp;&nbsp;&nbsp;new="newthreddsserver1.edu/" /&gt;<br>
<br>
&nbsp;&nbsp;&lt;urlmap<br>
&nbsp;&nbsp;&nbsp;&nbsp;type="opendap"<br>
&nbsp;&nbsp;&nbsp;&nbsp;old="threddsserver2.edu/thredds/dodsC/old/path/"<br>
&nbsp;&nbsp;&nbsp;&nbsp;new="threddsserver2.edu/thredds/dodcC/new/path/" /&gt;<br>
<br>
&lt;/urlmaps&gt;
</code></p>

<p>
In the first example, a new THREDDS server has replaced an old server - all
requests going to oldthreddsserver1.edu will be directed to
newthreddsserver1.edu. The second example is where the URL path to a particular
dataset has changed, either because the product has been replaced (for example,
the RUC to the RAP transition) or the maintainer of the TDS server has changed
the way data are cataloged. Note in both cases the type of URL is an opendap
URL. In the future, this mechanism will be used to redirect other types of data
requests, such as ADDE requests.
</p>

</faqitem>

<faqitem q="New minor version of Java 6" id="java">
The latest and final version of Java 6 (6u41) is included in this version of 
the IDV.
</faqitem>

<faqitem cat="Display Changes"></faqitem>

<faqitem q="Grid Trajectory Display" id="gridTrajectory">
The IDV now can plot 2D and 3D forward and backward gridded trajectory. The forward and backward 2D and 3D grid
trajectory are derived data choices based on the horizontal velocity
components and vertical velocity component. The trajectory is colored
by a user selected parameter. There are three options in
the <a href="controls/GridTrajectoryControl.html">Grid Trajectory
Control</a> to initialize the trajectory initial area.
</faqitem>

<faqitem q="Contour labelling frequency" id="contourlabelfq">
Added a user interface to change the frequency of the contour labels.
The density of the label can now be increased or decreased along the contours
or horizontally across the display.
</faqitem>

<faqitem q="Webcams" id="webcam">
Fixed broken webcam links available in the IDV.
</faqitem>

<faqitem q="WMS server" id="webmapserver">
USGS Shaded Relief has been reinstated as "CONUS Shaded Relief" in the
list of map background images.
</faqitem>

<faqitem cat="Data Changes"></faqitem>

<faqitem q="Non standard calendars" id="calendar">
An additional change in the netCDF-Java 4.3 library is support for 
non-standard calendars (e.g. 365 or 360 day years used in climate datasets).
The IDV has been modified to support these calendars and display dates
correctly from those datasets.
</faqitem>

<faqitem cat="ISL Changes"></faqitem>

<faqitem q="ISL Export Tag to Save Data to Comma Separated Value (CSV) and netCDF Formats" id="export">
The IDV Scripting Language (ISL) has new capability
to <a href="isl/DataAndDisplays.html#export">export</a> data available in
ObsListControl (e.g. a Point Data List display for METAR data).
</faqitem>

<faqitem q="ISL Image Tag animation_index Attribute" id="animation">
The IDV Scripting Language
(ISL) <a href="isl/ImagesAndMovies.html#image">image</a> tag has a new
animation_index attribute to specify multiple images in the animation.
</faqitem>

<faqitem cat="Documentation Changes"></faqitem>

<faqitem q="RAMADDA Section in IDV Training Workshop" id="ramadda">
There is a new RAMADDA section
in <a href="http://www.unidata.ucar.edu/software/idv/docs/workshop/ramadda/index.html">IDV
training workshop</a>.
</faqitem>

<faqitem cat="Bug Fixes/Known Problems"></faqitem>

<faqitem q="Bug Fixes" id="bugfix">
</faqitem>

<faqitem q="Known Problems" id="problems">
For a list of outstanding known problems, see the
<a href="Bugs.html">Known Problems</a> page.
</faqitem>

</faq>

</body>
</html>
